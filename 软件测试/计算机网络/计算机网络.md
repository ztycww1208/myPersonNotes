# 计算机网络

## web

### 1 软件的分类

> `B/S架构` （browser server）：百度，12306，淘宝，京东...75%
>
> `C/S架构` （client server）：微信，QQ...20%
>
> `单机架构 `：office，excel，photoshop...5%
>
> `混合架构` ：拥有以上两种架构混合。例如：淘宝，12306等

### 2 B/S架构和C/S架构的区分

> `B/S架构` ：访问该网站需要通过浏览器打开
>
> `C/S架构 `：访问该网站需要通过安装本地客户端的软件
>
> `单机架构`：使用该软件需要安装本地客户端，但是不需要网络

### 3 B/S架构和C/S架构的区别

> `维护性` ：B/S架构优于C/S架构，B/S架构更新只需要更新服务器，C/S架构更新需要更新服务器和客户端
>
> `性能`：C/S架构优于B/S架构,C/S架构是两端处理数据，B/S架构是一端处理数据
>
> `安全性`：C/S架构优于B/S架构，B/S架构采用http和https传输协议，C/S架构采用私有协议
>
> `兼容性`：B/S架构兼容不同的浏览器（ie，火狐，谷歌，safari，edge），C/S架构兼容不同的操作系统（linux，windows（32位、64位））

### 4 web的组成（B/S架构统称为web）

> `前端`： 
>
> `html `（静态页面） `JavaScript `（动态页面）` css `（样式）
>
> html ：超文本标记语言，用于显示静态页面，如：页面的输入框，图片，按钮等
>
> JavaScript ：简称js，用于生成动态页面，如：页面的轮播图，弹窗等
>
> css ：层叠样式表，用于设置页面样式，如：按钮的大小，底纹，边框，图片位置等

> 后端： `web服务器` `数据库服务器 `
>
> web服务器 ：apache，nginx，tomcat，jboss，weblogic...
>
> `作用` ：将用户提交的请求，转化成sql语句，去数据库进行增删改查操作 
>
> db服务器 （database）：mysql，db2，oracle，sql server...
>
> `作用` ：作为存储数据，处理数据

### 5 http请求

#### 5.1 http请求的组成

> `http`（hyper text transfer protocol）协议：超文本传输协议
>
> `协议`：让计算机说相同的语言
>
> `https协议`：超文本传输加密协议` https=http+ssl`
>
> `文本`：字符（英文，汉字，日语，英语...），特殊字符，数字
>
> `超文本`：在文本基础上+图片，flash，音频，视频...
>
> `应用层协议`： `无状态协议`

`概念`：

HTTP是一个基于`请求与响应模式的`、`无状态的`、`应用层的协议`

每一次完整的交互过程都包含`HTTP请求`和`HTTP响应`

`HTTP请求的组成`：

HTTP请求由三部分组成，分别是：`请求行`，`消息报头`，`请求正文（可选）`

> 请求行以一个方法符号开头，以空格分开，后面跟着请求的URL和协议的版本，格式如下：
>
> Method  Request-URI  HTTP-Version  CRLF
>
> 其中：
>
> Mthod ：表示请求方法
>
> Request-URI：是一个同一资源标识符（路径）
>
> HTTP-Version：表示请求的HTTP协议版本
>
> CRLF 表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）
>
>  
>
> 消息报头，即请求头，与请求正文（body）用空行来分割

`HTTP响应`和请类似，也由三部分组成，`状态行`，`消息报头`，`响应正文`

> 状态行格式如下：
>
> HTTP-Version   Status-Code  Reason-Phrase  CRLF
>
> 例如：HTTP/1.1  200  OK （CRLF）
>
> 其中，Reason-Phrase : 表示状态码的文本描述
>
> 

#### 5.2 http状态码

> `1xx`：指示信息，表示已接收，继续处理
>
> `200`：请求正确
>
> `3xx`：请求转移或者叫重定向
>
> `4xx`：表示客户端请求错误
>
> `5xx`：表示服务器错误（请求处理错误，代码错误等）

常见状态码：

200  OK                              //客户端请求成功

400  Bad  Request             //客户端请求由语法错误，不能被服务器所理解

401  Unauthorized            //请求未经授权，这个状态码必须和WWW-Authenticate报头域一起使用

403  Forbidden                 //服务器收到请求，但是拒绝提供服务

404  NotFound                 //请求资源不存在，eg：输入了错误的URL

500  Internal Server Error        //服务器发生不可预期的错误

503  Server  Unavailable         //服务器当前不能处理客户端的请求，一端时间后可能恢复正常



#### 5.3 cookie和session和token

> `cookie`：客户端安全机制，浏览器第一次访问服务器时由服务器颁发认证证书，并且保存在`浏览器`中，大小不超过`3kb `， `默认有效期是永久`，除非手动删除，作用是用来储存用户的偏好设置
>
> 
>
> 查看cookie：chrome://settings/content/cookies
>
> 删除cookie快捷键：ctrl+shift+delete
>
> 
>
> `session` ：服务器的安全机制，每次浏览器访问服务器都由服务器生成session保存在 `服务器`中，然后返回sessionid到浏览器，当需要验证用户身份时，就将sessionid自动加载到请求中发送给服务器，然后返回新的sessionid，sessionid默认有效期是30分钟，可以在后台代码中修改有效期，没有大小限制。
>
> 
>
> `token` ：服务器安全机制，主要解决了session对服务器资源占用过大的弊端，服务器不在储存session，而是储存一种加密算法，一般由`userid+秘钥`组成。

#### 5.4 请求方式：get和post

> `get `：获取数据，一般通过url直接加载页面内容，像点击链接页面跳转 超过95%
>
> `post` ：通过提交数据，验证通过后再加载页面，像登录，注册，新增，修改 5%

> get 和 post 区别
>
> 参数位置：get请求参数在url内，post请求参数在请求体内
>
> post请求比get请求安全性高
>
> post请求传输速度慢get请求传输速度快
>
> post请求传输没有大小限制，get请求传输有大小限制

### 6 抓包工具

#### 6.1 抓包工具的分类

> `httpwatch` ：基于ie浏览器的抓包工具，只能抓取ie浏览器请求，拦截式抓包
>
> `wireshark`：网络包分析工具，主要作用是捕获网络包，并显示包尽可能详细的信息
>
> `charles`：对于抓取手机app中的数据很方便
>
> `fiddler `：前端开发工程师和测试工程师使用较多的一款抓包工具，支持各类浏览器，功能强大，开发通过使用它进行问题的定位，可以使用fiddler进行简单的接口测试





## 网络

### 1 网络的分层

> `网络的分层` :osi(开放式系统互联) iso(国际标准化组织) ios(苹果操作系统)
>
> `osi七层模型`:（物理层 数据链路层 网络层 传输层 会话层 表示层 应用层）底层是给上层提供服务，相同层次使用相同的协议
>
> `tcp/ip五层模型` ：（物理层 数据链路层 网络层 传输层 应用层）
>
> `tcp/ip四层模型 `：（网络接口层 网络互联层 传输层 应用层)

### 2 OSI 七层模型

> `物理层`:
>
> 设备：光纤 网线
>
> `数据链路层` :
>
> 设备：交换机 网卡ipconfig -all
>
> 协议：arp(地址解析协议) rarp(逆地址解析协议)
>
> `网络层`：
>
> 设备：路由器
>
> 协议：（icmp igmp）
>
> 协议：让计算机说形同的语言
>
> icmp：（网络控制报文协议） ping 命令，路由追踪
>
> igmp：（网络组管理协议） 运用于服务器的集群
>
> `传输层`：tcp和udp
>
> tcp （传输控制协议）
>
> udp （用户报文协议）
>
> tcp是 面向连接 的协议，比较安全，传输的数据量较大，不带目标地址，tcp协议传输数据前必须要建立三次握手
>
> udp是 面向非连接 的协议，没有tcp安全，传输数据量小，带目标地址
>
> 经典例子：`三次握手` 和` 四次挥手`
>
> `会话层 `：提供的服务可使应用建立和维持会话，并能使会话获得同步，会话层使用校验点可使通讯会话在通讯失效时从校验点继续恢复通讯，这种能力对于传送大文件极为重要
>
> `表示层`：
>
> 主要作用是为了不同种类的通讯设备提供公共的沟通语言，以便能进行交互操作
>
> 例如：美国主机使用ascii编码，中国主机使用的是gbk编码
>
> `应用层`：
>
> `http`：超文本传输协议
>
> `https`：超文本传输加密协议
>
> ftp：文件传输协议
>
> sftp：加密文件传输协议
>
> smtp：简单邮件传输协议
>
> `dhcp`：动态主机配置协议
>
> `static ip`：静态主机配置协议
>
> `ssh`：安全外壳协议，用于远程连接linux操作系统
>
> telnet：远程端口连接，用于远程端口的控制

### 3 IP地址

> `概念`：ip地址有四个部分组成，每个部分的取值范围是【0,255】的数字组成的特定数据格式。
>
> 如：xxx.xxx.xxx.xxx
>
> 网络分类:
>
> `局域网 `：如教室，网吧，办公室
>
> `城域网`：医院，当地政府系统
>
> `广域网` ：互联网
>
> ip地址的分类：
>
> `A类`首位取值 `【0,127】`    默认子网掩码：` 255.0.0.0 `     广域网：互联网
>
> `B类`首位取值 `【128,191】`   默认子网掩码：` 255.255.0.0`       城域网
>
> `C类`首位取值 `【192,223】` 默认子网掩码：`255.255.255.0 `     局域网
>
> 查看ip地址：
>
> 1.`ipconfig` 查看ip地址
>
> 2.`ipconfig -all `  查看ip地址详细地址
>
> 3.`网关` ：默认网关在网络上实现网络互连，是最复杂的的网络连接设备，仅用于两个高层协议不同的网络互连（连接局域网和广域网的一个设备：路由器）
>
> 4.`dns` ：域名服务器，用来上网的必要条件
>
> 5、 `mac地址`： 物理地址
>
> `windows`：ipconfig
>
> `linux`：ifconfig

### 4 通过ping命令判断网络的好坏

> `ping`
>
> ping ip地址
>
> ping 域名
>
> ping 计算机名称
>
> -t 表示连续不断地ping ctrl+c结束
>
> 例子：ping www.baidu.com -t
>
> `结果分析`：
>
> 查看丢包率：一般不大于` 4%`，若大于网络无法使用
>
> 查看返回时间：ms计算（1/1000）
>
> s<1ms 一般是局域网
>
> 1ms<s<20ms 很好
>
> 20ms<s<100ms 一般
>
> 100ms<s<200ms 慢
>
> s>200ms 很慢 需要中断

### 5 如果无法上网

> 1.查看网线是否连接，水晶头是否闪烁，无线开关是否打开
>
> 2.查看右下方是否有网络标识
>
> 3.查看自己的地址是否配置正确
>
> 4.ping网关
>
> 5.查看dns域名服务器是否配置正确
>
> 6.ping外网

### 6 端口

> 1.端口的概念
>
> 端口号是程序在电脑上的数字标识，范围在 `0-65535 `之间，访问程序必须通过 `ip+端口` 的方式访问` （行业内默认端口除外）`，在一台电脑上，端口号是不能重复的
>
> 2.常见的默认端口
>
> `http `：80    `https`：443    `ftp`：21    `ssh` ：22   
>
> `apache` ：80    `tomcat `：8080    `oracle`：1521    `mysql` ：3306
>
> 注意：以上都是该程序的默认端口，如果被其他程序占用，我们可以修改这些默认端口号
>
> 3.查看端口
>
> win+r，输入cmd，在窗口输入
>
> 1.netstat -an # 查看所有端口信息
>
> 2.netstat -an|findstr "80" # 查看端口中包含80的信息